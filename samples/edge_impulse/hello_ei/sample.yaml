sample:
  description: Sample showing basic Edge Impulse usage
  name: Hello Edge Impulse sample
common:
  harness: console
  harness_config:
    ordered: true
    regex:
      - "=== Inference result ==="
      - "idle => 0[.]0[0-9]+"
      - "sine => (1[.]0[0-9]+)|(0[.]9[0-9]+)"
      - "triangle => 0[.]0[0-9]+"
      - "anomaly: (-[0-9]+[.][0-9]+)|(0[.]0[0-9]+)"
    type: multi_line
  platform_allow:
    - nrf5340dk/nrf5340/cpuapp
    - nrf5340dk/nrf5340/cpuapp/ns
    - nrf54l15dk/nrf54l05/cpuapp
    - nrf54l15dk/nrf54l10/cpuapp
    - nrf54l15dk/nrf54l15/cpuapp
    - nrf54h20dk/nrf54h20/cpuapp
    - nrf9160dk/nrf9160/ns
    - qemu_cortex_m3
    - thingy91x/nrf9151/ns
  integration_platforms:
    - nrf5340dk/nrf5340/cpuapp
    - nrf5340dk/nrf5340/cpuapp/ns
    - nrf54l15dk/nrf54l05/cpuapp
    - nrf54l15dk/nrf54l10/cpuapp
    - nrf54l15dk/nrf54l15/cpuapp
    - nrf54h20dk/nrf54h20/cpuapp
    - nrf9160dk/nrf9160/ns
    - qemu_cortex_m3
  platform_exclude:
    - native_sim
    - qemu_x86
tests:
  sample.hello_ei:
    sysbuild: true
    build_only: false
    tags:
      - sysbuild
      - ci_samples_edge_impulse
